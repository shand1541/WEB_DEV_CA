<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <!-- Global constants -->
    <constant name="struts.enable.DynamicMethodInvocation" value="false" />
    <constant name="struts.devMode" value="true" />
    <constant name="struts.action.extension" value="action" />
    <constant name="struts.ui.theme" value="simple" />
    <constant name="struts.multipart.maxSize" value="10485760" />
    
    <!-- Main package for the application -->
    <package name="default" extends="struts-default" namespace="/">
        
        <!-- Global exception mapping -->
        <global-exception-mappings>
            <exception-mapping exception="java.lang.Exception" result="error"/>
        </global-exception-mappings>
        
        <!-- Global result mappings -->
        <global-results>
            <result name="error">/error.jsp</result>
            <result name="login">/login.jsp</result>
        </global-results>
        
        <!-- Authentication Actions -->
        <action name="register" class="RegisterAction" method="execute">
            <result name="input">/register.jsp</result>
            <result name="success" type="redirect">/login.action</result>
            <result name="error">/register.jsp</result>
        </action>
        
        <action name="login" class="LoginAction" method="execute">
            <result name="input">/login.jsp</result>
            <result name="success" type="redirect">/dashboard.action</result>
            <result name="error">/login.jsp</result>
        </action>
        
        <action name="logout" class="LogoutAction" method="execute">
            <result name="success" type="redirect">/index.jsp</result>
        </action>
        
        <!-- Dashboard action -->
        <action name="dashboard" class="DashboardAction">
            <result name="success">/dashboard.jsp</result>
            <result name="login" type="redirect">/login.action</result>
        </action>
        
        <!-- Item management actions -->
        <action name="viewItems" class="ViewItemsAction" method="execute">
            <result name="success">/viewItems.jsp</result>
            <result name="error">/error.jsp</result>
        </action>
        
        <action name="addItemForm">
            <result>/addItem.jsp</result>
        </action>
        
        <action name="addItem" class="AddItemAction" method="execute">
            <result name="success" type="redirect">/dashboard.action</result>
            <result name="input">/addItem.jsp</result>
            <result name="error">/addItem.jsp</result>
        </action>
        
        <!-- Bidding actions -->
        <action name="myBids" class="MyBidsAction" method="execute">
            <result name="success">/myBids.jsp</result>
            <result name="error">/error.jsp</result>
        </action>
        
        <action name="placeBid" class="MyBidsAction" method="placeBid">
            <result name="success" type="redirect">/myBids.action</result>
            <result name="error">/myBids.jsp</result>
        </action>
        
        <action name="viewItemBids" class="ViewItemBidsAction" method="execute">
            <result name="success">/itemBids.jsp</result>
            <result name="error">/error.jsp</result>
        </action>
        
        <!-- User management actions -->
        <action name="profile" class="ProfileAction">
            <result name="success">/profile.jsp</result>
            <result name="error">/error.jsp</result>
        </action>
        
    </package>
</struts>